// Generated by Chef for <%= node[:fqdn] %>
// Local modifications will be overwritten.

// Automatically upgrade packages from these (origin, archive) pairs
Unattended-Upgrade::Allowed-Origins {
<% @allowed_origins.each do |origin, enabled| %>
<%= '//' unless enabled %> "${distro_id}<% if origin != "oldstable" %>:${distro_codename}-<% else %> <% end %><%= origin %>";
<% end %>
};

// List of packages to not update
Unattended-Upgrade::Package-Blacklist {
//      "vim";
//      "libc6";
//      "libc6-dev";
//      "libc6-i686";
<% @package_blacklist.each do |pkg| %>
  "<%= pkg %>";
<% end %>
};

// Send email to this address for problems or packages upgrades
// If empty or unset then no email is sent, make sure that you
// have a working mail setup on your system. The package 'mailx'
// must be installed or anything that provides /usr/bin/mail.
//Unattended-Upgrade::Mail "root@localhost";
<% if @admin_email %>Unattended-Upgrade::Mail "<%= @admin_email %>";<% end %>

// Do automatic removal of new unused dependencies after the upgrade
// (equivalent to apt-get autoremove)
//Unattended-Upgrade::Remove-Unused-Dependencies "false";
Unattended-Upgrade::Remove-Unused-Dependencies "<%= @remove_unused_dependencies %>";

// Automatically reboot *WITHOUT CONFIRMATION* if a
// the file /var/run/reboot-required is found after the upgrade
//Unattended-Upgrade::Automatic-Reboot "false";
Unattended-Upgrade::Automatic-Reboot "<%= @automatic_reboot %>";

// Use apt bandwidth limit feature, this example limits the download
// speed to 70kb/sec
//Acquire::http::Dl-Limit "70";
<% if @download_limit %>Acquire::http::Dl-Limit "<%= @download_limit %>";<% end %>
